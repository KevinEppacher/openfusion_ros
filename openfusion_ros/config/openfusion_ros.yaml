openfusion_ros:
  openfusion_ros:
    ros__parameters:

      append_pose:
        max_rotation_deg: 90.0
        min_translation: 0.6
        max_poses: 1000

      dataset:
        annotation_version: v1.0
        root_dir: /app/src/sage_evaluator/sage_datasets/matterport_isaac
        scene_name: 00800-TEEsavR23oF

      encode_image_every_n_frames: 1

      robot:
        camera:
          debug_images: false
          depth_topic: /depth/throttled
          qos_depth: 10
          qos_history: keep_last
          qos_reliability: best_effort
          rgb_topic: /rgb/throttled

        child_frame: carter_camera_stereo_right
        max_delta_time: 0.2
        parent_frame: map
        pose_source: topic
        pose_topic: /openfusion_ros/camera_pose

      semantic:
        class_list_path: /app/src/sage_evaluator/datasets/matterport_isaac/00800-TEEsavR23oF/assets/classes.json
        max_score: 1.0
        min_score: 0.1
        mode: query
        topk: 3

      timer_period:
        publish_pcl: 3.0
        update_pose: 0.1

      topic_names:
        slam_pointcloud: slam_pointcloud
        query_pointcloud: query_pointcloud_xyzi
        panoptic_pointcloud: panoptic_pointcloud_rgb
        semantic_pointcloud: semantic_pointcloud_rgb
        pose_array: pose_array

      use_sim_time: true
      user_prompt_topic: /user_prompt

      slam:
        voxel_size: 0.078125         # lower resolution
        # voxel_size: 0.01953125     # higher resolution

        block_resolution: 2          # lower resolution
        # block_resolution: 8        # higher resolution

        block_count: 100000
        depth_max: 10.0


  openfusion_tf_bridge:
    ros__parameters:
      robot:
        map_frame: "map"
        camera_frame: "carter_camera_stereo_right"
      camera_pose_topic: "camera_pose"
      rate_hz: 30.0